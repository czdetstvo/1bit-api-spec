---
sidebar_position: 5
---

# GetAppointmentStatus (статус записи)

## Описание

```text
GetAppointmentStatus(GUID[string])
```

`GUID` – уникальный идентификатор заявки.

> Возвращает код состояния записи и его краткое название:

| Код | Значение                                                                                                                                                                                                                                                                                                               |
|-----|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 0   | Ошибка                                                                                                                                                                                                                                                                                                                 |
| 1   | Новая (принята с сайта, не проверена)                                                                                                                                                                                                                                                                                  |
| 2   | Обработана (переведена из состояния новой полученной с сайта в иное состояние запланированной)                                                                                                                                                                                                                         |
| 3   | Пришел (посещение произошло или происходит сейчас)                                                                                                                                                                                                                                                                     |
| 4   | Не пришел (дата посещения прошла, но все еще находится в состоянии запланированной)                                                                                                                                                                                                                                    |
| 5   | Отменена                                                                                                                                                                                                                                                                                                               |
| 6   | Оформляется (интервал забронировано методом GetReserve на время оформления записи с сайта)                                                                                                                                                                                                                             |
| 9   | Забронированное время (заявка еще не оформлена, но бронирует своё время в расписании. По окончании времени хранения брони она будет удалена регламентным заданием «Обмен с сайтом: Отмена просроченных броней», если так и не будет переведена в иное состояние). Пример: проверка статуса после метода **GetReserve** |

## Возможные ошибки

1. Ошибка при получении уникального идентификатора на основе GUID;
2. Ошибка при выполнении поиска заявки по уникальному идентификатору.

## Пример запроса

```xml title="Тело запроса"

<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
    <soap:Body>
        <ru:GetAppointmentStatus xmlns="ru.umc">
            <GUID>97fca397-c589-11e1-b4b7-3859f93b5c90</GUID>
        </ru:GetAppointmentStatus>
    </soap:Body>
</soap:Envelope>
```

```xml title="Тело ответа"

<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
    <soap:Body>
        <m:GetAppointmentStatusResponse xmlns:m="ru.umc">
            <m:return xmlns:xs="http://www.w3.org/2001/XMLSchema"
                      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><?xml version="1.0"?>
                <ОтветНаЗапросСтатусаЗаявки xmlns="S1" xmlns:xs="http://www.w3.org/2001/XMLSchema"
                                            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                    <Результат>3</Результат>
                    <ОписаниеРезультата>Пришел</ОписаниеРезультата>
                </ОтветНаЗапросСтатусаЗаявки>
            </m:return>
        </m:GetAppointmentStatusResponse>
    </soap:Body>
</soap:Envelope>
```