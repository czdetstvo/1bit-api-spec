---
sidebar_position: 5
---

# DictionaryData (Получение данных из базы)

**Стандартный шаблон URL (PATTERN\_URL):** `/DictionaryData`

**HTTP-Метод POST**. Получение данных из информационной базы в соответствии с настройками обмена с сайтом и переданными параметрами. Подробнее в описании параметра Method [ниже](#подробное-описание-параметров).

::::info[Связанные Сервисы]
Является аналогом веб-сервисов: GetListClinic, GetListEmployees, GetNomenclatureAndPrices.
::::

## Параметры запроса

| **Наименование** | **Обязательный** | **Тип значения** | **Описание**                                                                                                                          |
|------------------|------------------|------------------|---------------------------------------------------------------------------------------------------------------------------------------|
| Key              | Да               | string           | Значение «Ключ API» для конкретной настройки обмена                                                                                   |
| Method           | Да               | string           | Имя модели поведения сервиса. Может быть: GetListClinic, GetListEmployees, GetNomenclatureAndPrices                                   |
| SearchName       | Нет              | string           | Строка для частичного поиска . Игнорируется методом GetListClinic                                                                     |
| EmployeeID       | Нет              | string           | УИД или УИДы сотрудников. Используется для GetListEmployees                                                                           |
| Clinic           | Нет              | string           | УИД или УИДы клиник, по которым будет применён отбор.  Нежелательно использовать без необходимости. Используется для GetListEmployees |

### Подробное описание параметров

#### Параметр Method

Параметр «Method» обязателен. Если он не задан, то вернётся ошибка. Параметр «Method» определяет поведение обработки:

**GetListClinic** – Получение списка клиник из базы данных. Возвращается Наименование клиники и его УИД.

**GetListEmployees** – Получение списка сотрудников из базы данных. При получении учитывается заданный отбор в настройках обмена с сайтами (настройки, чей ключ будет передан) и отбор по заданным параметрам. Отбор можно накладывать на часть Представления сотрудника (Наименование) и/или передавать в отбор перечисление УИДов искомых сотрудников и/или искать сотрудников, зафиксированных в подразделении конкретных клиник (параметр Clinic). Последний отбор через тело запроса не стоит использовать без необходимости для повышения скорости работы.

**GetNomenclatureAndPrices** – Получение списка номенклатуры и установленной на неё цены. При получении учитывается отбор в настройках обмена с сайтами, ключ который передан. Дополняет отбор из настроек обмена с сайтом отбор по части наименования номенклатуры (SearchName).

## Примеры

### Получение из базы список филиалов (GetListClinic)

```json title="Тело запроса JSON"
{
  "Key": "1111aaaa2222bbbb3333cccc4444dddd",
  "Method": "GetListClinic"
}
```

Возвращаемый результат:

```json title="Тело ответа"
{
  "Ответ": {
    "Результат": "true",
    "ОписаниеОшибки": "",
    "Клиники": [
      {
        "Наименование": "Центральная клиника",
        "УИД": "f679444a-22b7-11df-8618-002618dcef2c"
      },
      {
        "Наименование": "Филиал №1",
        "УИД": "f679444a-22b7-11df-8618-002618dcef2d"
      }
    ]
  }
}
```

### Получение из базы списка сотрудников (GetListEmployees)

```json title="Тело запроса JSON"
{
  "Key": "1111aaaa2222bbbb3333cccc4444dddd",
  "Method": "GetListEmployees",
  "SearchName": "Красильникова"
}
```

Возвращаемый результат:

```json title="Тело ответа"
{
  "Ответ": {
    "Результат": "true",
    "ОписаниеОшибки": "",
    "Сотрудники": [
      {
        "Наименование": "Красильникова Наталья Семеновна",
        "УИД": "e7005e6d-65c9-11e9-936d-1856809fe650",
        "Специализация": "Дерматология и косметология"
      }
    ]
  }
}
```

### Получение из базы списка номенклатуры (GetNomenclatureAndPrices)

```json title="Тело запроса JSON"
{
  "Key": "1111aaaa2222bbbb3333cccc4444dddd",
  "Method": "GetNomenclatureAndPrices",
  "SearchName": "Консультация"
}
```

Возвращаемый результат:

```json title="Тело ответа"
{
  "Ответ": {
    "Результат": "true",
    "ОписаниеОшибки": "",
    "Номенклатура": [
      {
        "Наименование": "Консультация врача-дерматолога",
        "УИД": "222df5d1-4964-11e9-82be-40167e631f2e",
        "Цена": "1500"
      },
      {
        "Наименование": "Консультация врача-офтальмолога",
        "УИД": "9fa37e64-4952-11e9-82be-40167e631f2e",
        "Цена": "1500"
      }
    ]
  }
}
```
